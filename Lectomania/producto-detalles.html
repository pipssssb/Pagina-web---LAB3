<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalles - Lectomania</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" type="text/css" href="estilos.css">
</head>
<body>

    <div class="wrapper">
        
        <nav>
            <div class="logo"><a href="index.html"><h1>Lectomania</h1></a></div>
                <!-- <div class="searchbox"> 
                 <input type="search" placeholder="¿Que estás buscando?">
                 <span><button class="boton-buscador"><i class="bi bi-search"></i></button></span>
                </div> -->

                <div class="searchbox">
                    <input type="search" id="searchInput" placeholder="¿Que estás buscando?" onkeyup="buscarLibro(event)">
                    <span><button class="boton-buscador" onclick="buscarLibro()"><i class="bi bi-search"></i></button></span>
                </div>
                <div id="resultadosBusqueda" class="resultados-busqueda"></div>

                <ul>
                    <!-- <li><button><a href="#"><i class="bi bi-list"></i>Menu</a></button></li> -->
                    <!-- <li><button><a href="carrito.html"><i class="bi bi-cart"></i>Carrito</a></button></li> -->
                    <li>
                        <button>
                            <a href="carrito.html">
                                <i class="bi bi-cart"></i> Carrito <span class="carrito-contador"></span>
                            </a>
                        </button>
                    </li>
                    <li><button><a href="#"><i class="bi bi-person-circle"></i>Perfil</a></button></li>
                </ul>
            </div>

            <!-- Seccion buscador -->

        </nav>

        <main>
            <div class="contenedor-producto-detalles">

                <div class="producto-detalles-libro-imagen">
                    <img class="producto-detalles-imagen" src="imagenes/libros/npe - ao1.png" style="width:240.09px;height:379.89px;">
                </div>
                
                <div class="producto-detalles">

                    <div class="producto-detalles-libro">
                        <div class="producto-detalles-titulo">
                            <h2>Naci para esto - Alice Oseman</h2>
                        </div>
                        <div class="producto-detalles-precio">
                            <h2>$22.000</h2>
                        </div>
                        <div class="producto-detalles-info-pago">
                            <h4>6 cuotas sin interés de $3.666</h4>
                            <div class="producto-detalles-tarjetas">
                                <img src="imagenes/Old_Visa_Logo.svg.png" alt="" style="width:40px;height:24.97px";>
                                <img src="imagenes/MasterCard_Logo.png" alt="" style="width:43px;height:24.97px";>
                                <img src="imagenes/mp logo.png" alt="" style="width:74px;height:24.97px";>
                            </div>
                            <h4>VER TODOS LOS MEDIOS DE PAGO</h4>
                        </div>

                        <div class="producto-detalles-botones">
                            <button class="producto-detalles-boton-agregar" onclick="agregarProductoAlCarrito(libro)"><i class="bi bi-plus-circle"></i> Agregar al carrito</button>
                        </div>

                    </div>

                </div>
            </div>

            <div class="producto-detalles-libro-detalles">
                <div class="barra-botones">
                    <ul>
                        <li>
                            <a href="#"><button class="producto-detalles-boton-detalles">Detalles</button></a>
                            <a href="#"> <button class="producto-detalles-boton-reseñas">Reseñas</button></a>
                        </li>
                    </ul>
                </div>
                
                <p class="parrafo-1">
                    Fortmato: Libro físico<br/>
                    Editorial: Vrya<br/>
                    Autor: Alice Oseman<br/>
                    Categoría: Novelas juveniles<br/>
                    Año: 2024<br/>
                    Idioma: Español<br/>
                    N° de páginas: 408<br/>
                    Encuadernación: Tapa blanda<br/>
                    Dimensiones: 21x15 cm<br/>
                </p>
                <p class="parrafo-2">
                    <br/>
                    El trío adolescente de pop-rock, The Ark, está sacudiendo el mundo y, a Angel Rahimi, ser parte
                    de su fandom le ha dado todo: sus amigos, sus sueños más grandes, su lugar en la Tierra.
                    Jimmy Kaga-Ricci también le debe todo a The Ark, ya que ser el vocalista de una banda fue
                    siempre su mayor sueño. Es una pena que últimamente en su vida todo se haya vuelto una
                    pesadilla. Cuando Angel y Jimmy crucen sin querer sus caminos, descubrirán lo extraña y
                    fascinante que puede ser la vida.<br/>
                </p>
            </div>


        </main>

    </div>

    <footer class="footer">

        <div class="wrapper">

            <div class="footer-row">

                <div class="footer-redes">
                    <a href="#"><i class="bi bi-instagram" style="color: black;"></i></a>
                    <a href="#"><i class="bi bi-facebook" style="color: black;"></i></a>
                    <h2>SEGUINOS</h2>
                </div>

                <div class="footer-datoscopados">
                    <ul>
                        <div class="enviamos-compra">
                        <li><a href="#"><i class="bi bi-truck" style="color: black;"></i></a></li>
                        <h4>ENVIAMOS TU COMPRA</h4>
                        <h5>Entregas a todo el país</h5>
                        </div>

                        <div class="distintos-pagos">
                        <li><a href="#"><i class="bi bi-wallet2" style="color: black;"></i></a></li>
                        <h4>PAGA COMO QUIERAS</h4>
                        <h5>Distintos medios de pago</h5>
                        </div>

                        <div class="compra-seguridad">
                        <li><a href="#"><i class="bi bi-lock" style="color: black;"></i></a></li>
                        <h4>COMPRA CON SEGURIDAD</h4>
                        <h5>Tus datos siempre protegidos</h5>
                        </div>
                    </ul>
                </div>

                <div class="footer-newspaper">
                    <img src="imagenes/logo provisorio.png" style="width:58px;height:55px;" alt="">
                    <ul>
                        <li>
                            <button class="boton-newspaper">Registrate y enterate de nuestros beneficios  <i class="bi bi-chevron-right"></i></button>
                        </li>
                    </ul>
                </div>

                <div class="footer-links">
                    <h4>Mas informacion</h4>
                    <ul>
                        <li><a href="#">Quienes somos</a></li>
                        <li><a href="#">Como comprar</a></li>
                        <li><a href="#">Escribinos</a></li>
                    </ul>
                </div>

                <div class="footer-links">
                    <h4>Ayuda</h4>
                    <ul>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Ayuda</a></li>
                        <li><a href="#">Terminos y condiciones</a></li>
                    </ul>
                </div>

                <div class="footer-links">
                    <h4>Contactanos</h4>
                    <ul>
                        <li><a href="#">261555555</a></li>
                        <li><a href="#">lectomanialibros@gmail.com</a></li>
                    </ul>
                </div>

                <div class="footer-copyright">
                    <h6>Copyright 2024. All Right Reserverd</h6>
                </div>

            </div>
        </div>
    </footer>

    <script src="carrito.js"></script>
    <script src="producto-detalles.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof actualizarContadorCarrito === 'function') {
                actualizarContadorCarrito();
            }
        });
    </script>

    <!-- CARRITO -->

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('searchInput');
            const searchButton = document.querySelector('.boton-buscador');
            const resultadosDiv = document.getElementById('resultadosBusqueda');
    
            if (searchInput && searchButton && resultadosDiv) {
                searchInput.addEventListener('keyup', function(event) {
                    if (event.key === 'Enter') {
                        buscarLibro();
                    }
                });
    
                searchButton.addEventListener('click', buscarLibro);
            } else {
                console.log('Elementos de búsqueda no encontrados');
            }
    
            function buscarLibro() {
                const searchTerm = searchInput.value.toLowerCase();
                resultadosDiv.innerHTML = ''; // Limpiar resultados anteriores
                
                console.log('Buscando:', searchTerm);
    
                const resultados = todosLosLibros.filter(libro => 
                    libro.titulo.toLowerCase().includes(searchTerm) || 
                    libro.autor.toLowerCase().includes(searchTerm)
                );
    
                console.log('Libros encontrados:', resultados.length);
    
                if (resultados.length === 0) {
                    resultadosDiv.innerHTML = '<p>No se encontraron libros que coincidan con la búsqueda</p>';
                } else {
                    const flexContainer = document.createElement('div');
                    flexContainer.className = 'resultados-flex-container';
                    resultados.forEach(libro => {
                        const libroElement = crearElementoLibro(libro);
                        flexContainer.appendChild(libroElement);
                    });
                    resultadosDiv.appendChild(flexContainer);
                }
    
                resultadosDiv.style.display = 'block';
            }
    
            function crearElementoLibro(libro) {
                const div = document.createElement('div');
                div.className = 'resultado-libro';
                div.innerHTML = `
                    <img src="${libro.imagen}" alt="${libro.titulo}" style="width:121px;height:192px;">
                    <div class="libro-detalles">
                        <button class="ver-libro">
                            <a href="producto-detalles.html?id=${libro.id}">
                                <p><span style="font-weight: bold">${libro.titulo}<br/>${libro.autor}<br/></span>$${libro.precio}</p>
                            </a>
                        </button>
                    </div>
                `;
                return div;
            }
        });
    
        // Cerrar resultados al hacer clic fuera
        document.addEventListener('click', function(event) {
            const resultadosDiv = document.getElementById('resultadosBusqueda');
            const searchBox = document.querySelector('.searchbox');
            if (!searchBox.contains(event.target) && !resultadosDiv.contains(event.target)) {
                resultadosDiv.style.display = 'none';
            }
        });
    </script>

    <!-- BUSCADOR -->

    <script src="libros.js"></script>

</body>
</html>
